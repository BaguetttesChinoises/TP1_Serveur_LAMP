
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/claat-public/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id=""
                  title=""
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="Installation de Ubuntu Desktop sur VirtualBox" duration="0">
        <h2 is-upgraded>Introduction</h2>
<p>Dans un premier temps nous allons mettre en place notre environnement de travail. Pour cela nous allons cr√©er une machine virtuelle √† l&#39;aide de VirtualBox. Sur cette machine nous installerons le syst√®me d&#39;exploitation Ubuntu Desktop.</p>
<h2 is-upgraded>Tutoriel et questions</h2>
<p>Suivez les √©tapes du tutoriel ci-dessous. En parall√®le, noter sur une feuille vos r√©ponses aux questions ci-dessous :</p>
<p><a href="https://ubuntu.com/tutorials/how-to-run-ubuntu-desktop-on-a-virtual-machine-using-virtualbox#1-overview" target="_blank"><code>Installation de Ubuntu sur VirtualBox</code></a></p>
<h2 is-upgraded>Note importantes</h2>
<p>Lors de l&#39;installation de Ubuntu veuillez choisir les param√®tres suivant :</p>
<p class="image-container"><img style="width: 601.70px" src="img\\1ee2bc1155cc6a9.png"></p>
<h2 is-upgraded>Questions</h2>
<p>Les r√©ponses des questions ci-dessous se situent sur le site pr√©c√©dent.</p>
<ol type="1" start="1">
<li>Quel processeur est-il conseill√© d&#39;avoir sur sa machine afin d&#39;installer Ubuntu 22.04.1 LTS ? M√™me question pour la taille de la RAM ?</li>
<li>A quoi correspond l&#39;accronyme &#34;LTS&#34; dans le mot &#34;Ubuntu 22.04.1 LTS&#34; ?</li>
<li>Que signifie l&#39;accronyme &#34;LTS&#34; en terme de s√©curit√© et de maintenance sur cette version Ubuntu ?</li>
</ol>
<p>Supposons que l&#39;utilisateur place le curseur compl√®tement √† droite dans l&#39;image ci-dessous :</p>
<p class="image-container"><img style="width: 601.70px" src="img\\47081050e0a8949.png"></p>
<ol type="1" start="4">
<li>Que risque-t-il de se passer lorsque la machine virtuelle sera en fonctionnement ?</li>
<li>Quelle est la diff√©rence d&#39;allocation m√©moire entre un stockage dynamiquement allou√© et un stockage de taille fixe ?</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Introduction au serveur LAMP" duration="0">
        <p>LAMP est une pile logicielle qui permet de mettre en place un serveur web. Gr√¢ce √† cela, des utilisateurs vont pouvoir consulter des pages web de notre serveur.</p>
<ol type="1" start="6">
<li>üîç A quoi correspond l&#39;acronyme &#34;LAMP&#34; ? </li>
<li>üîçDans cette acronyme, quel logiciel est le serveur HTTP ? Quel est le langage de programmation interpr√©t√© ? Quel est le syst√®me de gestion de bases de donn√©es ? Quel est le syst√®me d&#39;exploitation ?</li>
</ol>
<p>L&#39;application web con√ßu sera d√©ploy√©e sur une architecture 3-Tiers. Cette architecture peut √™tre d√©crite par la figure ci-dessous :</p>
<p class="image-container"><img style="width: 601.70px" src="img\\4170bff41920ed49.png"></p>
<h2 is-upgraded>Processus d&#39;√©x√©cution</h2>
<ul>
<li>Le navigateur envoie l&#39;adresse que l&#39;utilisateur a tap√©e.</li>
<li>Apache (le serveur web) cherche dans son arborescence si le fichier existe. Si c&#39;est le cas, Apache transmet ce fichier au parseur PHP ;</li>
<li>PHP parse le fichier, c&#39;est-√†-dire qu&#39;il va analyser et ex√©cuter le code PHP qui se trouve entre les balises &lt;? PHP et ?&gt;. </li>
<li>Si ce code contient des requ√™tes vers une base de donn√©es MySQL, PHP envoie la requ√™te SQL. La base de donn√©es renvoie les informations voulues. PHP continue de parser la page, puis retourne le fichier d√©pourvu du code PHP au serveur web ;</li>
<li>Le serveur web renvoie donc un fichier ne contenant plus de PHP, donc seulement du HTML au navigateur qui l&#39;interpr√®te et l&#39;affiche.</li>
</ul>
<ol type="1" start="8">
<li>D&#39;apr√®s vous pourquoi cette architecture est appel√©e &#34;architecrure 3-tiers&#34; ?</li>
</ol>
<h2 is-upgraded>Les niveaux de l&#39;architecture 3-tiers</h2>
<h3 is-upgraded>Le Client</h3>
<p>Dans un r√©seau informatique un client est l&#39;ordinateur(=logiciel) qui envoient des demandes √† un serveur.</p>
<h3 is-upgraded>Le Serveur d&#39;application</h3>
<p>Dans un r√©seau informatique, un serveur est √† la fois un ensemble de logiciels et l&#39;ordinateur les h√©bergeant. Son r√¥le est de r√©pondre de mani√®re automatique √† des demandes envoy√©es par des clients via le r√©seau.</p>
<p>Les serveurs sont d&#39;usage courant dans les entreprises, o√π ils sont souvent un point central et sont utilis√©s simultan√©ment par de nombreux utilisateurs pour stocker, partager et √©changer des informations. Le serveur d&#39;application permet ainsi au client de communiquer avec le serveur de bases de donn√©es.</p>
<h3 is-upgraded>Le Serveur de base de donn√©es</h3>
<ol type="1" start="9">
<li>Donner une br√®ve d√©finition d&#39;un serveur de base de donn√©es</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Installation de Apache" duration="0">
        <h2 is-upgraded>Installation des paquets</h2>
<p>Dans un terminal taper la commande suivant qui permet d&#39;installer le paquet Apache2</p>
<pre>sudo apt install apache2</pre>
<p>Une fois les paquets install√©s, ouvrez un des liens suivants dans votre navigateur :</p>
<ul>
<li><a href="http://localhost" target="_blank"><code>http://localhost</code></a></li>
<li><a href="http://127.0.0.1/" target="_blank"><code>http://127.0.0.1/</code></a></li>
</ul>
<p>Si le message ¬´ It works! ¬ª s&#39;affiche, votre serveur Lamp est correctement install√©.</p>
<p>Selon la version install√©e, vous pouvez aussi avoir une page intitul√©e ¬´ Apache2 Ubuntu Default Page ¬ª.</p>
<h2 is-upgraded>Personnalisation du serveur</h2>
<p>Nous allons modifier la page d&#39;accueil par d√©faut.</p>
<ol type="1" start="10">
<li>Placez vous dans le dossier /var/www, quel est le contenu de ce dossier ?</li>
<li>Ajouter votre propre fichier &#34;index.html&#34; afin que la page d&#39;accueil ressemble √† l&#39;image ci-dessous :</li>
</ol>
<p class="image-container"><img style="width: 601.70px" src="img\\ebba074910cec266.png"></p>
<ol type="1" start="12">
<li>La configuration de Apache se fait principalement dans les fichiers /etc/apache2/apache2.conf et /etc/apache2/ports.conf. Ouvrez ces fichiers, et r√©pondez aux questions suivantes :</li>
</ol>
<ol type="1" start="1">
<li>Quel utilisateur est utilis√© pour lancer le serveur Apache ?</li>
<li>Quel groupe est utilis√© pour lancer le serveur ?</li>
<li>Quels sont les ports utilis√©s par le serveur ?</li>
</ol>
<p>Pour modifier le contenu du dossier /var/www n√©cessite des droits que votre compte utilisateur ne poss√®de pas. Pour rem√©dier √† ce probl√®me, on pourrait ajouter des droits √† votre compte. Au lieu de cela, nous allons activer un module de Apache, appel√© userdir</p>
<p>V√©rifier que ce module est bien disponible en regardant si le dossier /etc/apache2/mods-available contient le fichier userdir.load.</p>
<p>Le dossier /etc/apache2/mods-enabled contient des liens symboliques vers les fichiers du dossier /etc/apache2/mods-available. La pr√©sence d&#39;un tel lien signifie que le module en question est activ√©. Regarder si le module userdir est d√©j√† activ√©.</p>
<p>S&#39;il n&#39;est pas activ√©, vous devez cr√©er vous m√™me les liens symboliques</p>
<ol type="1" start="13">
<li>üîçChercher sur internet la fa√ßon de cr√©er un lien symbolique avec la commande ln -sv</li>
</ol>
<ol type="1" start="14">
<li>Cr√©er des liens symbolique vers les fichiers /etc/apache2/mods-available/userdir.load et userdir.conf (s&#39;il existe).</li>
</ol>
<p>Vous devriez avoir le message</p>
<pre><code>‚Äò/etc/apache2/mods-enabled/userdir.load&#39; ‚Üí ‚Äò/etc/apache2/mods-available/userdir.load&#39;

‚Äò/etc/apache2/mods-enabled/userdir.conf&#39; ‚Üí ‚Äò/etc/apache2/mods-available/userdir.conf&#39;</code></pre>
<p>Apr√®s avoir activ√© un module, il faut relancer Apache en faisant la commande :</p>
<pre><code>sudo service apache2 restart</code></pre>
<p>Une fois le module userdir activ√©, chaque utilisateur peut cr√©er son propre site Web dans le dossier ~/login/public_html (login correspond a votre login). </p>
<p>Cr√©ez ce r√©pertoire et mettez y un fichier index.html. </p>
<p>Acc√©der √† ce fichier via l&#39;url : http://localhost/~&lt;nom dutilisateur&gt;, vous devriez avoir le message d&#39;erreur ci-dessous :</p>
<p class="image-container"><img style="width: 601.70px" src="img\\805fc2e965d1a825.png"></p>
<ol type="1" start="15">
<li>Que signifie cette erreur ?</li>
<li>üîçCherchez sur internet les commandes permettant de debugger cette situation. Une fois terminer vous devriez voir s&#39;afficher votre page index.html √† la place du message d&#39;erreur.</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Ajout de PHP" duration="0">
        <p>Afin de faire un site Web dynamique, on a besoin d&#39;utiliser un langage de programmation. On utilisera ce langage pour g√©n√©rer en autre du code HTML qui sera utilis√© dans les pages envoy√©s aux clients. C&#39;est donc le serveur Web qui se charge d&#39;ex√©cuter le code avant d&#39;envoyer le r√©sultat aux clients. Nous utiliseront ici le langage PHP </p>
<p>Taper la commande :</p>
<pre><code>apt install libapache2-mod-php</code></pre>
<p>V√©rifier que le module php a bien √©t√© activ√© par d√©faut en consultant le contenu du dossier /etc/apache2/mods-enabled</p>
<p>Pour tester que PHP est bien support√©, cr√©ez le chier info.php dans le r√©pertoire /var/www/html avec le contenu suivant : </p>
<pre><code>&lt;?php phpinfo();?&gt;</code></pre>
<p>Rendez vous alors sur la page http://localhost/info.php</p>
<p>La conguration de PHP se fait principalement via le chier php.ini (souvent situ√© dans le dossier /etc/php/8.1/apache2). Ouvrez ce chier et r√©pondez aux questions suivantes : </p>
<ol type="1" start="17">
<li>le mode Safe de PHP est-il activ√©? </li>
<li> l&#39;afichage des erreurs est-il activ√©? (si non, √ßa peut √™tre une bonne id√©e de l&#39;activer)</li>
</ol>
<p>Note : Si vous modifiez le fichier php.ini, n&#39;oubliez pas de relancer Apache pour que les modications soient prisent en compte</p>
<p>Cr√©ez maintenant un fichier info.php (avec le m√™me contenu que pr√©c√©demment) dans votre dossier  ~/public_html. V√©rifiez que vous pouvez utiliser PHP pour le site Web de votre compte utilisateur.</p>
<p>Sous Debian et Ubuntu, ce n&#39;est pas toujours le cas par d√©faut. Il vous faudra alors modifier le fichier /etc/apache2/mods-available/php8.1.conf en suivant les consignes donn√©es en commentaire, puis relancer Apache.</p>


      </google-codelab-step>
    
      <google-codelab-step label="Installation de MySQL" duration="0">
        <p>Il nous faut encore un syst√®me de gestion de bases de donn√©es (SGBD) afin de pouvoir stocker les donn√©es dynamiques. Nous allons ici installer MySQL. </p>
<p>Installez le paquet mysql-server. </p>
<pre><code>sudo apt install mysql-server</code></pre>
<p>Le fichier de configuration principal de MySQL est /etc/mysql/my.cnf. Ouvrez le et r√©pondez aux questions suivantes : </p>
<ol type="1" start="19">
<li>Quel port de votre machine le serveur MySQL utilise-t-il ? </li>
<li>Dans quel dossier les donn√©es seront-elles stock√©es ? </li>
<li>Depuis quelles machines a t&#39;on acc√®s au serveur MySQL ?</li>
</ol>
<p>Pour v√©rifier que MySQL est bien install√©, lancez (en tant qu&#39;utilisateur normal) la commande </p>
<pre><code>sudo mysql -u root</code></pre>
<p>Vous devriez obtenir un nouveau prompt. Essayez alors successivement les commandes suivantes : </p>
<pre><code>help;
show databases; 
use mysql; 
show tables; 
select Host,User from user; </code></pre>
<p>Note : ne pas oublier le &#34; ;&#34; √† la fin de chaque commande. </p>
<ol type="1" start="22">
<li>Qu&#39;obtenez vous? </li>
</ol>
<p>On peut maintenant cr√©er un compte utilisateur gr√¢ce √† la commande </p>
<pre><code>CREATE USER ‚Äòtoto&#39;@&#39;%&#39; IDENTIFIED BY &#39;motdepasse&#39;;</code></pre>
<p>Cr√©ez ainsi un compte MySQL correspondant √† votre compte UNIX. </p>
<p>V√©rifier que la table user de la base de donn√©es mysql contient bien une nouvelle entr√©e. </p>
<ol type="1" start="23">
<li>Que signifie &#39;%&#39; dans cette commande? </li>
</ol>
<p>Cr√©ez une nouvelle base de donn√©es appel√©e test gr√¢ce √† la commande </p>
<pre><code>CREATE DATABASE test;</code></pre>
<p>et donner les droits complets sur cette base de donn√©es √† votre compte utilisateur via </p>
<pre><code>GRANT ALL ON test.* TO ‚Äòtoto&#39;@&#39;%&#39;</code></pre>
<p>Quittez MySQL, et reconnecter vous en utilisant cette fois ci votre compte utilisateur gr√¢ce √† la commande</p>
<pre><code>mysql -u &lt;login&gt; -p</code></pre>
<p>Cr√©ez la table notes ci-dessous :</p>
<p class="image-container"><img style="width: 601.70px" src="img\\d025c19a0d317ac0.png"></p>
<p>On utilisera les commandes MySQL CREATE TABLE et INSERT ainsi que SELECT * FROM notes ; pour v√©rifier que tout est ok.</p>
<ol type="1" start="24">
<li>Quelle commande SQL permet de supprimer la premi√®re ligne sur Jhon Doe ?</li>
</ol>


      </google-codelab-step>
    
      <google-codelab-step label="Acc√®s √† la base de donn√©es en PHP" duration="0">
        <p>Vous avez (presque) tout ce qu&#39;il faut pour cr√©er votre site Web dynamique :</p>
<p>V√©rifier dans la sortie de phpinfo() que le support de MySQL est bien install√© (il faut pour cela le driver mysql de PDO, cf image ci-dessous) :</p>
<p class="image-container"><img style="width: 601.70px" src="img\\26912fee3bae939.png"></p>
<p>Dans le cas contraire, installez le paquet php-mysql puis relancez Apache.</p>
<p>√âcrivez un code PHP qui permet d&#39;ajouter une entr√©e √† la table notes. On v√©rifiera que les notes sont entre 0 et 20 avant de faire l&#39;ajout.</p>
<p> Fa√Ætes une page HTML avec un formulaire de fa√ßon √† pouvoir saisir une nouvelle entr√©e destin√©e √† la table notes. L&#39;action associ√©e au formulaire sera d&#39;appeler votre code pour la question pr√©c√©dente.</p>
<p>Rappel : pour faire un formulaire HTML, compl√©ter/adapter le code</p>
<p class="image-container"><img style="width: 601.70px" src="img\\2ea764bffad3713.png"></p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/claat-public/native-shim.js"></script>
  <script src="https://storage.googleapis.com/claat-public/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/claat-public/prettify.js"></script>
  <script src="https://storage.googleapis.com/claat-public/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

</body>
</html>
